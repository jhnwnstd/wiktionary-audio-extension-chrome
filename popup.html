<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <style>
    body {
      width: 300px;
      padding: 16px;
      font-family: system-ui, -apple-system, sans-serif;
      font-size: 14px;
      margin: 0;
    }

    .header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid #e0e0e0;
    }

    /* Optional: crisper icon using inline SVG */
    .icon {
      width: 24px;
      height: 24px;
      display: grid;
      place-items: center;
      border-radius: 6px;
      background: #eef4ff;
      color: #1565c0;
    }
    .icon svg { width: 16px; height: 16px; }

    .title {
      font-weight: 600;
      color: #1a1a1a;
    }

    .setting-group { margin-bottom: 16px; }

    .setting-label {
      display: block;
      font-weight: 500;
      margin-bottom: 6px;
      color: #333;
    }

    .setting-description {
      font-size: 12px;
      color: #666;
      margin-bottom: 8px;
      line-height: 1.4;
    }

    .radio-container {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px;
      background: #f8f9fa;
      border-radius: 6px;
      cursor: pointer;
      margin-bottom: 6px; /* a little more breathing room */
      transition: background 120ms ease, border-color 120ms ease;
      border: 1px solid transparent;
    }
    .radio-container:hover { background: #f0f1f3; }
    .radio-container:active { background: #e8ebee; }

    input[type="radio"] {
      width: 16px;
      height: 16px;
      margin: 0;
    }

    /* Prefer focus-visible for better UX */
    input[type="radio"]:focus-visible {
      outline: 2px solid #1a73e8;
      outline-offset: 2px;
    }
    .radio-container:focus-within {
      background: #e8f0fe;
      border: 1px solid #1a73e8;
    }

    .radio-label {
      flex: 1;
      cursor: pointer;
      font-size: 13px;
    }

    .warning {
      display: none;
      margin-top: 8px;
      padding: 8px;
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: 4px;
      font-size: 12px;
      color: #856404;
    }
    .warning.show { display: block; }

    .status {
      margin-top: 16px;
      padding: 8px;
      border-radius: 4px;
      font-size: 12px;
      text-align: center;
      display: none;
      transition: opacity 150ms ease;
    }
    .status.success {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    .status.error {
      background: #f8d7da;
      color: #721c24;
      border: 1px solid #f5c6cb;
    }

    .footer {
      margin-top: 16px;
      padding-top: 12px;
      border-top: 1px solid #e0e0e0;
      text-align: center;
      font-size: 11px;
      color: #666;
    }
  </style>
</head>
<body>
  <div class="header">
    <!-- Optional: crisp SVG icon -->
    <div class="icon" aria-hidden="true">
      <svg viewBox="0 0 24 24" fill="currentColor" role="img" focusable="false" aria-hidden="true">
        <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path>
      </svg>
    </div>
    <div class="title" id="popup-title">Wiktionary Audio Downloader</div>
  </div>

  <div class="setting-group">
    <!-- Use radiogroup semantics -->
    <label class="setting-label" id="format-label">Audio Format</label>
    <div class="setting-description" id="format-desc">
      Choose how to download audio files.
    </div>

    <div role="radiogroup" aria-labelledby="format-label" aria-describedby="format-desc">
      <div class="radio-container">
        <input type="radio" name="mode" value="original" id="original">
        <label class="radio-label" for="original">Original filename</label>
      </div>

      <div class="radio-container">
        <input type="radio" name="mode" value="convert" id="convert">
        <label class="radio-label" for="convert">Convert to .wav (ffmpeg)</label>
      </div>
    </div>

    <div class="warning" id="wav-warning">
      üìÅ Conversion uses ffmpeg.wasm for real audio transcoding to PCM WAV format.
    </div>
  </div>

  <!-- Live region for announcements -->
  <div class="status" id="status" role="status" aria-live="polite"></div>

  <div class="footer">
    Visit any Wiktionary page to download audio files
  </div>

  <script src="popup.js"></script>
</body>
</html>